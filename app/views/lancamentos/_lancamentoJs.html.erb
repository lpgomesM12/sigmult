<script type="text/javascript">




function modalReceita() {
    $('#myModalReceita').modal('show');
};


function modalDespesa() {
    $('#myModalDespesa').modal('show');
};


//funcão lancamento
  function busca_lancamentos(){
     $.ajax({
       method: 'get',
       url: '/api/v1/lancamentos',
       data : {
         empresa_id: '<%=current_user.empresa_id%>'
       },
       success: function(data){
         monta_lista_divia(data.lancamentos);
       }
     })
  };


  //funcão lancamento
    function deleta_lancamento(id){
       $.ajax({
         method: 'delete',
         url: '/api/v1/lancamentos',
         data : {
           id: id
         },
         success: function(data){
           monta_lista_divia(data.lancamentos);
         }
       })
    };

 //monta lista lancamentos
  function monta_lista_divia(data){
      var html = "";
      $("#tblancamento").empty();
       for (var i in data) {
         var item = data[i];
         html += "<tr><td>"+item.nome_lancamento+"</td>";
         html += "<td>"+item.data_vencimento+"</td>";
         html += "<td>"+item.valr_lancamento+"</td>";
         html += "<td>"+item.data_pagamento+"</td>";
         html += "<td Align='center'>";
         html += " <button type='button' onclick='chama_editar("+item.id+")'  data-toggle='tooltip' title='Editar' data-placement='top' class='btn btn-primary btn-xs' aria-label='Left Align'>";
         html += "  <span class='glyphicon glyphicon-pencil' aria-hidden='true'></span></button>";
         html += " <button type='button' onclick='chamaModal("+item.id+")' data-toggle='tooltip' title='Excluir' class='btn btn-danger btn-xs' aria-label='Left Align'>";
         html += "  <span class='glyphicon glyphicon-trash' aria-hidden='true'></span></button></tr>";
       };

       $("#tblancamento").append(html);
     };


  //função editar
   function chama_editar(id){
       alert("Em breve");
   }

  function chamaModal(id) {
       alert("Em breve");
   }

    busca_lancamentos();



</script>
